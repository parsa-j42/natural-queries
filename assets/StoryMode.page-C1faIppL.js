import{r as c,j as e,C as Re,T as D,b as i,x as w,y as ae,z as ne,G as v,B as S,P as N,D as re,E as oe,F as I,H as ie,p as Q,I as O,h as $,A as W,n as j,J as Le,k as Be,q as b,i as ce,o as he,K as de,O as ue,Q as qe}from"./mantine-gaEAkGgm.js";import{_ as ge,u as De}from"./index-Dcdo9pRS.js";import{aJ as Qe,aG as Oe,aI as V}from"./SchemaViewer-ZWqKlDMj.js";import{c as g}from"./createReactComponent-BDw6330a.js";import"./react-vendor-CNHA2c5_.js";/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var We=g("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fe=g("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ge=g("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var He=g("outline","book-2","IconBook2",[["path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z",key:"svg-0"}],["path",{d:"M19 16h-12a2 2 0 0 0 -2 2",key:"svg-1"}],["path",{d:"M9 8h6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $e=g("outline","books","IconBooks",[["path",{d:"M5 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M5 8h4",key:"svg-2"}],["path",{d:"M9 16h4",key:"svg-3"}],["path",{d:"M13.803 4.56l2.184 -.53c.562 -.135 1.133 .19 1.282 .732l3.695 13.418a1.02 1.02 0 0 1 -.634 1.219l-.133 .041l-2.184 .53c-.562 .135 -1.133 -.19 -1.282 -.732l-3.695 -13.418a1.02 1.02 0 0 1 .634 -1.219l.133 -.041z",key:"svg-4"}],["path",{d:"M14 9l4 -1",key:"svg-5"}],["path",{d:"M16 16l3.923 -.98",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pe=g("outline","brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var me=g("outline","bulb","IconBulb",[["path",{d:"M3 12h1m8 -9v1m8 8h1m-15.4 -6.4l.7 .7m12.1 -.7l-.7 .7",key:"svg-0"}],["path",{d:"M9 16a5 5 0 1 1 6 0a3.5 3.5 0 0 0 -1 3a2 2 0 0 1 -4 0a3.5 3.5 0 0 0 -1 -3",key:"svg-1"}],["path",{d:"M9.7 17l4.6 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var U=g("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ve=g("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ue=g("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Je=g("outline","wand","IconWand",[["path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3",key:"svg-0"}],["path",{d:"M15 6l3 3",key:"svg-1"}],["path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-2"}],["path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ye=g("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);[{value:"well_locations",label:"Well Locations"},{value:"chemical_analysis",label:"Chemical Analysis"},{value:"well_ownership",label:"Well Ownership"},{value:"drilling_info",label:"Drilling Information"},{value:"water_quality",label:"Water Quality Metrics"}].map(h=>({...h,description:"",tables:[]}));[{value:"basic_select",label:"Basic SELECT"},{value:"joins",label:"Table JOINs"},{value:"aggregates",label:"Aggregate Functions"},{value:"complex_conditions",label:"Complex Conditions"},{value:"temporal_analysis",label:"Temporal Analysis"}].map(h=>({...h,description:"",difficulty:"beginner"}));async function Xe(h,u,x){return(await ge(async()=>{const{StoryScenarios:m}=await import("./StoryModeScenarios-BBbSq51j.js");return{StoryScenarios:m}},[])).StoryScenarios.singleStories.beginner[0]}async function Ke(h,u,x){return(await ge(async()=>{const{StoryScenarios:m}=await import("./StoryModeScenarios-BBbSq51j.js");return{StoryScenarios:m}},[])).StoryScenarios.multiChapterStories.beginner[0]}function Ze(h,u){const x=t=>t.toLowerCase().replace(/\s+/g," ").replace(/\s*([,()])\s*/g,"$1").trim(),m=x(h),k=x(u),E=m.includes("select"),f=m.includes("from"),F=u.toLowerCase().match(/from\s+([a-z_]+)/i)?.[1]?.split(/[,\s]+/).every(t=>m.includes(t.toLowerCase()));if(!E||!f)return{isValid:!1,feedback:"Make sure your query includes SELECT and FROM clauses."};if(!F)return{isValid:!1,feedback:"Check if you're using all the required tables."};const _=m===k,C=u.toLowerCase().split(/[,\s]+/).filter(t=>t.length>3).every(t=>m.includes(t.toLowerCase()));return{isValid:_||C,feedback:_?"Perfect! Your query matches the solution exactly.":C?"Good job! Your query includes all the key elements.":"Almost there! Try comparing your query with the solution."}}function es(h){return h==="beginner"?{elements:["well_locations","chemical_analysis"],skills:["basic_select","joins"]}:{elements:[],skills:[]}}const ss="_title_1e5k1_1",ts="_setupPanel_1e5k1_14",ls="_selectionGroup_1e5k1_20",as="_select_1e5k1_20",ns="_tabs_1e5k1_33",rs="_storyContent_1e5k1_38",os="_storyPanel_1e5k1_42",is="_chapterHeader_1e5k1_47",cs="_chapterTitle_1e5k1_53",hs="_taskSection_1e5k1_58",ds="_queryInput_1e5k1_69",us="_solutionPanel_1e5k1_80",ps="_explanationPanel_1e5k1_86",ms="_explanationStep_1e5k1_97",gs="_stepCode_1e5k1_104",xs="_chapterStepper_1e5k1_114",_s="_button_1e5k1_124",vs="_segmentedControl_1e5k1_136",ys="_fadeIn_1e5k1_144",js="_chapterProgress_1e5k1_195",ks="_progressBar_1e5k1_202",Ss="_progressFill_1e5k1_210",bs="_locked_1e5k1_216",fs="_completed_1e5k1_221",Cs="_resultsPanel_1e5k1_226",ws="_resultsHeader_1e5k1_233",Is="_resultsTable_1e5k1_241",Ms="_resultsScrollArea_1e5k1_259",zs="_overviewAlert_1e5k1_263",Ts="_conclusionAlert_1e5k1_272",Ps="_storyContext_1e5k1_283",As="_accordionItem_1e5k1_289",Ns="_solutionCode_1e5k1_294",Es="_accordionChevron_1e5k1_299",Rs="_actionButton_1e5k1_320",n={title:ss,setupPanel:ts,selectionGroup:ls,select:as,tabs:ns,storyContent:rs,storyPanel:os,chapterHeader:is,chapterTitle:cs,taskSection:hs,queryInput:ds,solutionPanel:us,explanationPanel:ps,explanationStep:ms,stepCode:gs,chapterStepper:xs,button:_s,segmentedControl:vs,fadeIn:ys,chapterProgress:js,progressBar:ks,progressFill:Ss,locked:bs,completed:fs,resultsPanel:Cs,resultsHeader:ws,resultsTable:Is,resultsScrollArea:Ms,overviewAlert:zs,conclusionAlert:Ts,storyContext:Ps,accordionItem:As,solutionCode:Ns,accordionChevron:Es,actionButton:Rs},Ls=["well_locations","chemical_analysis","well_ownership","drilling_info","water_quality"].map(h=>({value:h,label:h.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ")})),Bs=["basic_select","joins","aggregates","complex_conditions","temporal_analysis"].map(h=>({value:h,label:h.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ")})),qs=[{label:"Beginner",value:"beginner"},{label:"Intermediate",value:"intermediate"},{label:"Advanced",value:"advanced"}];function Gs(){const[h,u]=c.useState("single"),[x,m]=c.useState([]),[k,E]=c.useState([]),[f,F]=c.useState("beginner"),[_,C]=c.useState(null),[t,G]=c.useState(null),[d,y]=c.useState(0),[o,M]=c.useState(0),[R,z]=c.useState(""),[J,T]=c.useState(!1),[xe,Y]=c.useState(!1),[_e,X]=c.useState(!1),[ve,K]=c.useState(!0),[L,H]=c.useState(new Set),[P,B]=c.useState([]),[ye,Z]=c.useState(!1),[A,ee]=c.useState(null),[je,se]=c.useState(!1),{isOpen:ke,openSchema:Se,closeSchema:be}=De();c.useEffect(()=>{if(t&&t.chapters){const s=t.chapters.map((a,l)=>{const r=[...L].filter(p=>p.startsWith(`${l}-`)).length;return a.steps?Math.min(r/a.steps.length*100,100):0});B(s)}},[t,L]);const fe=()=>{const{elements:s,skills:a}=es(f);m(s),E(a),j.show({title:"Random Selection",message:"Elements and skills have been randomly selected based on difficulty",color:"#b48ead"})},Ce=(s,a)=>{if(H(l=>{const r=new Set(l);return r.add(`${s}-${a}`),r}),t){const l=t.chapters[s].steps.length,r=[...L].filter(p=>p.startsWith(`${s}-`)).length+1;B(p=>{const q=[...p];return q[s]=Math.min(r/l*100,100),q})}},we=async()=>{Z(!1),Y(!0);try{if(!x.length||!k.length)throw new Error("Please select at least one element and skill");if(h==="single"){const s=await Xe(x,k,f);if(!s)throw new Error("No matching story found for the selected criteria");C(s),G(null)}else{const s=await Ke(x,k,f);if(!s)throw new Error("No matching multi-chapter story found for the selected criteria");G(s),C(null)}y(0),M(0),H(new Set),B([])}catch(s){j.show({title:"Generation Failed",message:s instanceof Error?s.message:"Failed to generate story",color:"red"})}finally{Y(!1)}},Ie=async s=>{const a=s.toLowerCase();return a.includes("well_id")&&a.includes("owner")?[{Well_ID:1001,Township:"23",Range:"01",Owner_Name:"John Smith",City:"Calgary"},{Well_ID:1002,Township:"24",Range:"02",Owner_Name:"Jane Doe",City:"Calgary"}]:a.includes("iron")?[{Well_ID:1001,Township:"23",Range:"01",Sample_Date:"2023-10-15",Iron_Level:.45,Risk_Level:"Moderate"},{Well_ID:1002,Township:"24",Range:"02",Sample_Date:"2023-09-20",Iron_Level:.52,Risk_Level:"Moderate"}]:[{Well_ID:1001,Township:"23",Range:"01",Sample_Date:"2023-10-15"},{Well_ID:1002,Township:"24",Range:"02",Sample_Date:"2023-09-20"}]},Me=async s=>{se(!0);try{const a=await Ie(s);ee(a),j.show({title:"Query Executed",message:`Found ${a.length} results`,color:"teal",icon:e.jsx(V,{size:16})})}catch(a){j.show({title:"Execution Error",message:a instanceof Error?a.message:"Failed to execute query",color:"red"})}finally{se(!1)}},ze=async()=>{if(!R.trim()){j.show({title:"Empty Query",message:"Please enter a query first",color:"yellow"});return}await Me(R);const s=te();if(s){const{isValid:a,feedback:l}=Ze(R,s.solution);a&&(Ce(o,d),j.show({title:"Correct!",message:l,color:"teal",icon:e.jsx(V,{size:16})}))}},Te=()=>{if(!ye){Z(!0);return}if(t?.chapters){const s=t.chapters[o];d<(s?.steps?.length??0)-1?y(a=>a+1):o<t.chapters.length-1&&(M(a=>a+1),y(0))}else _?.steps&&d<_.steps.length-1&&y(s=>s+1);z(""),T(!1),K(!1),ee(null)},Pe=()=>{if(d>0)y(s=>s-1);else if(o>0&&t?.chapters){const s=o-1;M(s),y((t.chapters[s]?.steps?.length??1)-1)}z(""),T(!1)},te=()=>t?.chapters?.[o]?.steps?.[d]?t.chapters[o].steps[d]:_?.steps?.[d]??null,Ae=()=>{C(null),G(null),y(0),M(0),H(new Set),B([]),z(""),T(!1),X(!0)},Ne=()=>{const s=te();if(!s)return null;const a=t?t.overall_context:_?.context;return e.jsx("div",{className:n.storyContent,children:e.jsx(N,{className:n.storyPanel,withBorder:!0,children:e.jsxs(re,{gap:"lg",children:[d===0&&o===0&&t&&e.jsxs(oe,{icon:e.jsx(We,{size:16}),title:"Story Overview",color:"#b48ead",className:n.overviewAlert,children:[e.jsx(i,{className:n.storyContext,children:a}),t&&e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"lg",fw:500,mt:"md",mb:"xs",children:"Story Elements:"}),e.jsx(I,{children:t.elements.map((l,r)=>e.jsx(I.Item,{children:l.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")},r))}),e.jsx(i,{size:"lg",fw:500,mt:"md",mb:"xs",children:"Required Skills:"}),e.jsx(I,{children:t.skills.map((l,r)=>e.jsx(I.Item,{children:l.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")},r))})]})]}),t&&d===0&&e.jsx(ie,{active:o,bulletSize:24,lineWidth:2,children:t.chapters.map((l,r)=>e.jsxs(ie.Item,{title:l.title,bullet:P[r]===100?e.jsx(U,{size:12}):r+1,children:[e.jsx(i,{c:"dimmed",size:"sm",children:l.introduction.split(`
`)[0]}),e.jsxs(v,{gap:"xs",mt:"xs",children:[e.jsxs(Q,{size:"sm",color:r<=o?"#b48ead":"gray",children:[l.steps?.length||0," Tasks"]}),e.jsxs(Q,{size:"sm",color:P[r]===100?"teal":"gray",children:[P[r],"% Complete"]})]})]},r))}),d===0&&e.jsx(O,{variant:"filled",defaultValue:"chapter-info",classNames:{item:n.accordionItem,chevron:n.accordionChevron},children:e.jsxs(O.Item,{value:"chapter-info",children:[e.jsx(O.Control,{children:e.jsx(D,{order:3,children:t?`Chapter ${o+1}: ${t.chapters[o].title}`:_?.title})}),e.jsx(O.Panel,{color:"#b48ead",children:e.jsxs("div",{className:n.taskSection,children:[e.jsx(i,{size:"lg",fw:500,mb:"xs",children:"Background"}),e.jsx(i,{mb:"xl",className:n.storyContext,children:t?t.chapters[o].introduction:_?.context}),t?.chapters&&e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"lg",fw:500,mb:"xs",children:"Learning Objectives"}),e.jsx(I,{children:t.chapters[o].learning_objectives.map((l,r)=>e.jsx(I.Item,{children:e.jsx(i,{mb:"xs",children:l})},r))})]})]})})]})}),e.jsxs("div",{className:n.taskSection,children:[e.jsx(i,{size:"lg",fw:500,mb:"xs",children:"Current Situation"}),e.jsx(i,{mb:"lg",children:s.context}),e.jsx(i,{size:"lg",fw:500,mb:"xs",children:"Your Assignment"}),e.jsx(i,{mb:"md",children:s.task}),e.jsxs(v,{mb:"xl",children:[e.jsx($,{label:"Show Hint",children:e.jsx(W,{variant:"light",color:"#b48ead",onClick:()=>{j.show({title:"Hint",message:s.hint,color:"#b48ead",autoClose:5e3,icon:e.jsx(me,{size:16})})},children:e.jsx(me,{size:18})})}),e.jsx($,{label:"Toggle Explanation",children:e.jsx(W,{variant:"light",color:"#b48ead",onClick:()=>X(l=>!l),children:e.jsx(pe,{size:18})})}),e.jsx($,{label:"View Schema",children:e.jsx(W,{variant:"light",color:"#b48ead",onClick:Se,children:e.jsx(Oe,{size:18})})})]}),e.jsxs(ae,{mb:"xl",children:[e.jsx(Le,{className:n.queryInput,onChange:l=>z(l.target.value),value:R,minRows:4,autosize:!0,placeholder:"Write your SQL query here..."}),e.jsxs(v,{mt:"md",children:[e.jsx(S,{color:"#b48ead",onClick:ze,loading:je,children:"Execute Query"}),e.jsxs(S,{variant:"light",color:"#b48ead",onClick:()=>T(l=>!l),children:[J?"Hide":"Show"," Solution"]})]})]}),A&&ve&&e.jsxs(N,{withBorder:!0,className:n.resultsPanel,children:[e.jsxs("div",{className:n.resultsHeader,children:[e.jsx(i,{fw:500,size:"sm",children:"Query Results"}),e.jsxs(v,{children:[e.jsxs(Q,{variant:"light",color:"teal",leftSection:e.jsx(V,{size:12}),children:[A.length," Records Found"]}),e.jsx(W,{variant:"subtle",onClick:()=>K(!1),size:"sm",children:e.jsx(Ye,{size:16})})]})]}),e.jsx(Be,{h:300,className:n.resultsScrollArea,children:e.jsxs(b,{className:n.resultsTable,children:[e.jsx(b.Thead,{children:e.jsx(b.Tr,{children:A[0]&&Object.keys(A[0]).map(l=>e.jsx(b.Th,{children:l},l))})}),e.jsx(b.Tbody,{children:A.map((l,r)=>e.jsx(b.Tr,{children:Object.values(l).map((p,q)=>e.jsx(b.Td,{children:p?.toString()??"NULL"},q))},r))})]})})]}),e.jsx(ce,{in:J,children:e.jsxs(N,{className:n.solutionPanel,withBorder:!0,children:[e.jsx(i,{fw:500,mb:"xs",children:"Solution:"}),e.jsx(he,{block:!0,className:n.solutionCode,children:s.solution.trim()})]})}),e.jsx(ce,{in:_e,children:e.jsxs(N,{className:n.explanationPanel,withBorder:!0,mt:"xl",children:[e.jsx(D,{order:4,mb:"md",children:"Query Explanation"}),e.jsx(i,{mb:"md",children:s.explanation.overview}),s.explanation.steps?.map((l,r)=>e.jsxs("div",{className:n.explanationStep,children:[e.jsx(he,{className:n.stepCode,children:l.sql}),e.jsx(i,{size:"sm",children:l.explanation}),l.key_concept&&e.jsx(Q,{color:"#b48ead",size:"sm",mt:"xs",children:l.key_concept})]},r))]})})]}),t&&d===(t.chapters[o]?.steps?.length??0)-1&&e.jsx(oe,{icon:e.jsx(U,{size:16}),title:"Chapter Conclusion",color:"teal",className:n.conclusionAlert,children:e.jsx(i,{children:t.chapters[o].conclusion})}),t&&e.jsxs(v,{justify:"space-between",children:[e.jsx(S,{variant:"light",color:"#b48ead",leftSection:e.jsx(Fe,{size:16}),onClick:Pe,disabled:d===0&&o===0,children:"Previous"}),e.jsx(S,{color:"#b48ead",rightSection:e.jsx(Ge,{size:16}),onClick:Te,disabled:o===t.chapters.length-1&&d===(t.chapters[o]?.steps?.length??0)-1,children:"Next"})]})]})})})},le=()=>e.jsx(N,{className:n.setupPanel,withBorder:!0,children:e.jsxs(re,{children:[e.jsx(D,{order:3,mb:"md",children:"Create Your Adventure"}),e.jsxs("div",{className:n.selectionGroup,children:[e.jsxs(v,{justify:"space-between",mb:"xs",children:[e.jsx(i,{size:"sm",fw:500,children:"Database Elements"}),e.jsx(de,{variant:"light",color:"grape",children:e.jsx(Ve,{size:16})})]}),e.jsx(ue,{data:Ls,value:x,onChange:m,placeholder:"Select elements to include...",searchable:!0})]}),e.jsxs("div",{className:n.selectionGroup,children:[e.jsxs(v,{justify:"space-between",mb:"xs",children:[e.jsx(i,{size:"sm",fw:500,children:"SQL Skills"}),e.jsx(de,{variant:"light",color:"grape",children:e.jsx(pe,{size:16})})]}),e.jsx(ue,{data:Bs,value:k,onChange:E,placeholder:"Select skills to practice...",searchable:!0})]}),e.jsxs("div",{className:n.selectionGroup,children:[e.jsx(i,{size:"sm",fw:500,mb:"xs",children:"Story Complexity"}),e.jsx(qe,{fullWidth:!0,data:qs,value:f,onChange:s=>F(s),color:"#b48ead"})]}),e.jsxs(v,{mt:"md",children:[e.jsx(S,{leftSection:e.jsx(Je,{size:16}),variant:"light",color:"grape",onClick:fe,children:"Random Selection"}),e.jsx(S,{color:"grape",onClick:we,disabled:x.length===0||k.length===0,loading:xe,children:"Generate Story"})]})]})}),Ee=s=>{s<o||P[s-1]===100?(M(s),y(0),z(""),T(!1)):j.show({title:"Chapter Locked",message:"Please complete the current chapter before moving forward",color:"yellow"})};return e.jsxs(Re,{size:"xl",py:"xl",children:[e.jsx(D,{className:n.title,ta:"center",mb:"xl",children:e.jsx(i,{inherit:!0,component:"span",c:"#b48ead",children:"SQL Learning Adventure"})}),!_&&!t?e.jsxs(w,{color:"#b48ead",value:h,onChange:s=>u(s),className:n.tabs,children:[e.jsxs(w.List,{grow:!0,children:[e.jsx(w.Tab,{value:"single",leftSection:e.jsx(He,{size:16}),children:"Single Adventure"}),e.jsx(w.Tab,{value:"multi",leftSection:e.jsx($e,{size:16}),children:"Multi-Chapter Saga"})]}),e.jsx(w.Panel,{value:"single",children:le()}),e.jsx(w.Panel,{value:"multi",children:le()})]}):e.jsxs(ae,{children:[t?.chapters&&e.jsx(ne,{active:o,onStepClick:Ee,color:"#b48ead",children:t.chapters.map((s,a)=>e.jsx(ne.Step,{label:`Chapter ${a+1}`,description:s.title,completedIcon:L.has(`${a}-${d}`)?e.jsx(U,{size:18}):void 0,state:P[a]===100?"stepCompleted":"stepProgress"},a))}),Ne(),e.jsx(v,{mt:"md",children:e.jsx(S,{variant:"subtle",color:"#b48ead",leftSection:e.jsx(Ue,{size:16}),onClick:Ae,children:"Start New Adventure"})})]}),e.jsx(Qe,{opened:ke,onClose:be})]})}export{Gs as StoryMode};
